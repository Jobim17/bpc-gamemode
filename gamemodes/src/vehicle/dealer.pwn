/*
	oooooooooo.                       oooo                              oooo         o8o
	`888'   `Y8b                      `888                              `888         `"'
	 888      888  .ooooo.   .oooo.    888   .ooooo.  oooo d8b  .oooo.o  888 .oo.   oooo  oo.ooooo.
	 888      888 d88' `88b `P  )88b   888  d88' `88b `888""8P d88(  "8  888P"Y88b  `888   888' `88b
	 888      888 888ooo888  .oP"888   888  888ooo888  888     `"Y88b.   888   888   888   888   888
	 888     d88' 888    .o d8(  888   888  888    .o  888     o.  )88b  888   888   888   888   888
	o888bood8P'   `Y8bod8P' `Y888""8o o888o `Y8bod8P' d888b    8""888P' o888o o888o o888o  888bod8P'
	                                                                                       888
	                                                                                      o888o
*/

// Include 
#include <YSI_Coding\y_hooks>

// Constant
#define VEHICLE_ALARM_PRICE 	3500
#define VEHICLE_LOCK_PRICE 		4000
#define VEHICLE_IMMOB_PRICE		5000
#define VEHICLE_XMRADIO_PRICE 	5000
#define VEHICLE_TRACKER_PRICE  	4000
#define VEHICLE_INSURANCE_PRICE	7000

// Variáveis
static s_pDealership[MAX_PLAYERS] = {-1, ...};

static s_arrDealerDefaultPos[][4] = {
    {1542.2360,-1024.6117,23.5313,346.3439},
	{1546.6907,-1025.8572,23.5312,343.0172},
	{1550.9995,-1027.3229,23.5312,343.8101},
	{1555.3621,-1028.5148,23.5313,344.2106},
	{1559.4102,-1030.1896,23.5312,344.2696},
	{1563.7837,-1031.2640,23.5332,342.1118},
	{1569.9720,-1034.6222,23.5370,322.3119},
	{1573.6327,-1037.0845,23.5351,323.2692},
	{1576.9586,-1039.8826,23.5313,321.9445},
	{1580.9771,-1043.8435,23.5310,309.5742},
	{1583.6866,-1047.7462,23.5312,308.1384},
	{1586.6826,-1050.9348,23.5312,309.0961},
	{1589.3503,-1054.3530,23.5313,309.1660},
	{1591.7571,-1058.0079,23.5313,309.9774},
	{1616.3893,-1119.2391,23.5312,269.5218},
	{1616.1642,-1123.6984,23.5312,270.9124},
	{1616.3887,-1128.0815,23.5311,270.1531},
	{1616.2263,-1132.6082,23.5312,271.6229},
	{1616.0321,-1136.9890,23.5311,270.8761},
	{1648.6288,-1136.4696,23.5312,359.9271},
	{1652.8175,-1136.4324,23.5312,1.5374},
	{1657.1638,-1136.5662,23.5311,1.4549},
	{1661.7793,-1136.5715,23.5312,0.1469},
	{1666.2274,-1136.7086,23.5310,0.1492},
	{1676.7905,-1129.6621,23.5312,93.1014},
	{1676.5288,-1125.0447,23.5313,89.4460},
	{1676.1620,-1120.4838,23.5313,89.8538},
	{1676.3015,-1115.9683,23.5313,90.3656},
	{1676.3922,-1111.4583,23.5309,88.6138},
	{1675.6786,-1107.1677,23.5313,90.5686},
	{1675.6431,-1102.5200,23.5313,88.8061},
	{1675.8954,-1098.0477,23.5311,90.3075},
	{1657.7754,-1111.4502,23.5331,269.8254},
	{1658.0958,-1107.0847,23.5314,269.2282},
	{1657.9182,-1102.5706,23.5311,269.8751},
	{1658.1592,-1097.9357,23.5313,270.0888},
	{1657.8911,-1093.5106,23.5310,270.9572},
	{1657.9454,-1089.0105,23.5312,270.3036},
	{1658.4119,-1084.5455,23.5313,270.4046},
	{1658.5104,-1080.2562,23.5273,270.0807},
	{1650.0708,-1080.0994,23.5273,88.6770},
	{1649.9807,-1084.4951,23.5310,89.7324},
	{1650.4044,-1089.1899,23.5313,90.7966},
	{1650.1404,-1093.6421,23.5313,90.0449},
	{1650.4620,-1098.1344,23.5312,90.3383},
	{1650.4100,-1102.5435,23.5312,90.1501},
	{1650.1863,-1107.0691,23.5297,89.8570},
	{1650.5200,-1111.6249,23.5389,89.6484},
	{1688.0536,-1086.1393,23.5313,359.6960},
	{1692.6145,-1086.1602,23.5313,0.0189},
	{1697.0568,-1086.1359,23.5310,0.9957},
	{1701.5020,-1086.1157,23.5310,0.6741},
	{1705.7939,-1086.3381,23.5312,1.7950},
	{1691.1628,-1068.6859,23.5312,180.6728},
	{1695.8848,-1069.0952,23.5313,179.7258},
	{1700.2722,-1069.0918,23.5312,178.7473},
	{1704.7407,-1069.3519,23.5311,178.9091},
	{1709.2694,-1069.4880,23.5312,178.8587},
	{1713.9117,-1069.4022,23.5313,178.9711},
	{1718.4803,-1069.7915,23.5315,180.0878},
	{1722.5574,-1069.5089,23.5468,178.8316},
	{1722.5365,-1061.4296,23.5475,357.2256},
	{1718.1686,-1061.4440,23.5347,1.0971},
	{1713.7205,-1061.3135,23.5311,359.3974},
	{1709.1454,-1061.0574,23.5313,358.7676},
	{1704.6288,-1060.5796,23.5312,359.6633},
	{1700.0756,-1060.7389,23.5312,359.7759},
	{1695.7224,-1061.2557,23.5374,1.4531},
	{1691.0991,-1061.0695,23.5390,0.3052},
	{1726.3060,-1086.1207,23.5490,0.5504},
	{1731.0281,-1085.8689,23.5696,359.1255},
	{1735.5256,-1085.7216,23.5859,0.9270},
	{1739.9530,-1085.7546,23.5858,359.8902},
	{1744.3679,-1085.5648,23.5871,359.2624},
	{1748.9213,-1085.0221,23.5858,359.1736},
	{1753.4652,-1084.5168,23.5859,0.0165},
	{1758.2010,-1085.4580,23.5857,358.6385},
	{1762.5901,-1085.8434,23.5856,359.9503},
	{1767.0842,-1085.9690,23.5859,0.1052},
	{1771.6490,-1085.7590,23.5857,358.4984},
	{1776.0669,-1085.6714,23.5860,358.3434},
	{1780.6066,-1085.6119,23.5859,358.1335},
	{1785.0131,-1085.7083,23.5936,3.4201},
	{1789.4934,-1085.7999,23.5936,0.5430},
	{1794.1021,-1085.7478,23.5936,0.4017},
	{1798.7618,-1085.7323,23.5860,359.9929},
	{1803.0709,-1085.9442,23.5860,0.2310},
	{1793.5698,-1069.8688,23.5860,181.9941},
	{1789.0693,-1070.0328,23.5858,180.0233},
	{1784.6412,-1070.1337,23.5859,183.5098},
	{1780.0410,-1070.4957,23.5861,183.4062},
	{1775.6200,-1069.9172,23.5858,179.5867},
	{1771.0295,-1069.8800,23.5860,181.1211},
	{1766.6044,-1069.8502,23.5860,181.1936},
	{1761.9922,-1070.1455,23.5859,179.1303},
	{1761.7892,-1061.6543,23.5856,0.7004},
	{1766.2404,-1061.1010,23.5857,0.1983},
	{1770.8870,-1061.9840,23.5861,1.7904},
	{1775.5857,-1061.2102,23.5861,358.4935},
	{1779.8065,-1061.2319,23.5860,0.8215},
	{1784.4387,-1061.5955,23.5859,359.4618},
	{1788.8041,-1061.4899,23.5859,1.5609},
	{1793.3254,-1062.2195,23.5880,1.2185},
	{1783.8590,-1025.5891,23.5858,154.6801},
	{1780.0261,-1023.3765,23.5859,153.2074},
	{1775.7577,-1021.7193,23.5859,153.6755},
	{1771.6874,-1019.8876,23.5860,152.8153},
	{1767.9709,-1017.7709,23.5860,154.4268},
	{1761.8378,-1015.5675,23.5860,169.4669},
	{1757.6420,-1014.2505,23.5858,167.5832},
	{1753.2190,-1013.4634,23.5859,167.5858},
	{1748.9591,-1012.5097,23.5857,169.2995},
	{1744.3599,-1011.4575,23.5858,168.6774},
	{1740.0981,-1010.4650,23.5859,169.0888},
	{1735.3843,-1010.2865,23.5802,167.8623},
	{1731.2019,-1008.3849,23.5683,167.8993},
	{1726.5599,-1008.3083,23.5517,168.2916},
	{1721.6335,-1006.9210,23.5385,173.3235},
	{1717.3151,-1006.5552,23.5389,173.9828},
	{1712.8722,-1005.9280,23.5391,173.5323},
	{1708.5970,-1004.9974,23.5387,171.7829},
	{1704.0168,-1004.8300,23.5332,172.4534},
	{1695.7330,-1005.9623,23.5314,199.7377},
	{1691.4688,-1007.5286,23.5312,198.6150},
	{1687.1727,-1008.7377,23.5311,198.5688},
	{1683.0540,-1010.6589,23.5252,198.6588},
	{1678.6497,-1011.6384,23.5234,198.7501},
	{1674.4520,-1012.8191,23.5232,199.3653},
	{1664.9764,-1015.0216,23.5233,189.9058},
	{1660.5732,-1016.0446,23.5233,190.5177},
	{1656.0986,-1017.0989,23.5233,190.7142},
	{1651.6637,-1017.5366,23.5231,191.8499},
	{1645.0432,-1017.3976,23.5234,160.8183},
	{1641.0686,-1015.7132,23.5234,162.0445},
	{1636.7344,-1014.2963,23.5233,162.9924},
	{1632.4333,-1013.1403,23.5233,162.3118},
	{1628.0199,-1011.6286,23.5235,160.6392},
	{1623.6577,-1010.6827,23.5234,161.9116},
	{1617.8346,-1009.7468,23.5251,179.6969},
	{1613.3705,-1009.5706,23.5309,178.6674},
	{1608.8408,-1009.2726,23.5311,178.5003},
	{1604.5713,-1008.9873,23.5310,177.5547},
	{1599.2847,-1009.1979,23.5309,187.2868},
	{1594.8192,-1009.8619,23.5313,187.2494},
	{1590.4019,-1010.0584,23.5311,186.9876},
	{1585.8944,-1010.3735,23.5310,186.2652},
	{1581.3331,-1011.0332,23.5311,186.8344},
	{1576.3866,-1011.5908,23.5313,181.6466},
	{1572.0118,-1011.5558,23.5314,180.5832},
	{1567.5398,-1011.5623,23.5342,180.8227},
	{1562.9642,-1011.9204,23.5311,179.8128},
	{1558.3816,-1011.6439,23.5312,179.4166},
	{1627.3711,-1046.3330,23.5233,179.2373},
	{1631.8037,-1046.5537,23.5233,179.6692},
	{1636.2355,-1046.2911,23.5234,179.2253},
	{1640.8901,-1046.6263,23.5233,180.0847},
	{1645.3324,-1046.6375,23.5235,179.9828},
	{1649.7596,-1046.4589,23.5232,178.8383},
	{1654.3190,-1046.8727,23.5235,180.5410},
	{1658.7585,-1047.0035,23.5234,180.1205},
	{1658.6710,-1037.7396,23.5234,0.3762},
	{1654.3044,-1037.7615,23.5235,359.4613},
	{1649.6930,-1037.8229,23.5231,358.0718},
	{1645.1161,-1037.7610,23.5231,359.9977},
	{1640.7394,-1037.5958,23.5234,359.0540},
	{1636.3495,-1037.6277,23.5236,359.7141},
	{1631.7527,-1037.4911,23.5233,359.0566},
	{1627.1511,-1037.7479,23.5233,359.9191},
	{1680.9504,-1044.3389,23.5251,179.8846},
	{1685.3749,-1044.6700,23.5313,179.6816},
	{1690.0277,-1044.0547,23.5312,180.3938},
	{1694.4763,-1044.5619,23.5313,179.4375},
	{1698.8359,-1044.4840,23.5310,178.8886},
	{1703.3644,-1044.4719,23.5312,179.3879},
	{1708.0359,-1044.7526,23.5312,179.5467},
	{1712.4385,-1044.5712,23.5312,179.6582},
	{1712.2156,-1035.4324,23.5389,359.2698},
	{1707.8462,-1035.9050,23.5330,359.9983},
	{1703.3665,-1035.6522,23.5311,0.6012},
	{1698.7162,-1035.8922,23.5309,0.0803},
	{1694.2228,-1035.9382,23.5312,359.9393},
	{1689.8650,-1035.6217,23.5313,359.0363},
	{1685.2164,-1035.3302,23.5309,0.7211},
	{1680.7379,-1035.3241,23.5312,1.3771},
	{1744.0405,-1046.1755,23.5859,179.9857},
	{1748.5070,-1046.4469,23.5857,180.3561},
	{1753.0229,-1046.5551,23.5859,180.1937},
	{1757.5028,-1046.0896,23.5861,179.3913},
	{1761.9386,-1046.2875,23.5870,179.5633},
	{1761.7339,-1036.9855,23.5861,357.2029},
	{1757.4225,-1037.1243,23.5858,358.9639},
	{1752.9812,-1037.1747,23.5861,358.9543},
	{1748.3463,-1037.0854,23.5861,359.0058},
	{1743.9247,-1037.1682,23.5858,0.2652}
};

// Functions
Dealership_ShowCategories(playerid)
{
	new id = Business_Nearest(playerid);

	if (id == -1 || BusinessData[id][e_BUSINESS_TYPE] != BUSINESS_TYPE_DEALERSHIP)
		return SendErrorMessage(playerid, "Você não está próximo de uma concessionária.");

	if (BusinessData[id][e_BUSINESS_LOCKED])
		return SendErrorMessage(playerid, "Esta concessionária está fechada.");

	if (!BusinessData[id][e_BUSINESS_PRODUCTS])
		return SendErrorMessage(playerid, "Esta concessionária está sem condições para fornecer veículo. ((sem produto))");

	inline Dealership_Categories()
	{
		new rows = cache_num_rows();

		if (!rows)
			return SendErrorMessage(playerid, "Nenhuma categoria encontrada no catálogo.");

		s_pDealership[playerid] = id;
	}
	return true;
}
